server:
  port: 8080
  compression:
    enabled: true
    min-response-size: 1024

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics

pit:
  kafka:
    bootstrap: localhost:9092
    topic: pit.events_raw
    registryUrl: http://localhost:8081/apis/registry/v2
    dlqTopic: pit.deadletter
    producer:
      lingerMs: 5
      batchSize: 65536
  auth:
    # 示例: apiKey->secret，生产请使用数据库/控制面
    keys:
      pk_test_example: sk_test_secret
  ratelimit:
    rpm: 600          # per api key per minute
    ipRpm: 300        # per client IP per minute
  control:
    url: http://localhost:8085
  props:
    allowlist: []   # 示例: [level,stars,amount,currency,exp,variant]
  event:
    maxBytes: 65536
  request:
    maxBytes: 1048576
  pii:
    email: mask      # mask|drop|allow
    phone: mask      # mask|drop|allow
    ip: coarse       # coarse|drop|allow  (coarse: IPv4 /24, IPv6 /48)
    denyKeys: [password, pass, passwd, credit_card, ssn]
    maskKeys: [email, phone, mobile]
